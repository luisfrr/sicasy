<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:f="http://xmlns.jcp.org/jsf/core"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:p="http://primefaces.org/ui">

   <p:outputPanel id="panel_detalle" rendered="#{vehiculoView.showDetailsPanel}">

      <h:form id="form_breadcrumb_detalle" styleClass="mb-3">
         <p:breadCrumb homeDisplay="text">
            <p:menuitem value="Inicio" ajax="false" action="#{menuSessionBean.goToHome()}"/>
            <p:menuitem value="Vehículos" ajax="true" action="#{vehiculoView.regresar()}"/>
            <p:menuitem value="Detalle"/>
         </p:breadCrumb>
      </h:form>

      <p:tabView id="tab_view_detalles" styleClass="mb-5">
         <p:tab id="tab_detalle_vehiculo" title="Información del vehículo">
            <h:form id="form_editar_vehiculo">
               <p:panel header="Datos del vehículo" widgetVar="panelVehiculo" styleClass="mb-5">
                  <f:facet name="actions">
                     <p:commandLink styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default"
                                    ajax="true" action="#{vehiculoView.permitirEditar()}"
                                    rendered="#{vehiculoView.readOnlyEditForm}">
                        <h:outputText styleClass="ui-icon pi pi-pencil"/>
                     </p:commandLink>
                  </f:facet>
                  <p:outputPanel styleClass="formgrid grid mb-5">
                     <p:outputPanel styleClass="field col-12 md:col-6 lg:col-4 xl:col-3">
                        <p:outputLabel for="@next" value="Dependencia" styleClass="block"/>
                        <p:selectOneMenu value="#{vehiculoView.vehiculoSelected.dependencia.idDependencia}"
                                         styleClass="w-full mw-auto" required="true" disabled="#{vehiculoView.readOnlyEditForm}">
                           <f:selectItem itemLabel="Seleccione uno..." itemValue="#{null}"/>
                           <f:selectItems value="#{vehiculoView.dependenciaList}" var="dependencia"
                                          itemValue="#{dependencia.idDependencia}" itemLabel="#{dependencia.abreviatura} - #{dependencia.nombre}"/>
                        </p:selectOneMenu>
                        <span class="text-sm hidden"> </span>
                     </p:outputPanel>
                     <p:outputPanel styleClass="field col-12 md:col-6 lg:col-4 xl:col-3">
                        <p:outputLabel for="@next" value="No. Serie" styleClass="block"/>
                        <p:inputText styleClass="block w-full" required="true" disabled="#{vehiculoView.readOnlyEditForm}"
                                     value="#{vehiculoView.vehiculoSelected.noSerie}"/>
                        <span class="text-sm hidden"> </span>
                     </p:outputPanel>
                     <p:outputPanel styleClass="field col-12 md:col-6 lg:col-4 xl:col-3">
                        <p:outputLabel for="@next" value="Placa" styleClass="block"/>
                        <p:inputText styleClass="block w-full" required="true" disabled="#{vehiculoView.readOnlyEditForm}"
                                     value="#{vehiculoView.vehiculoSelected.placa}"/>
                        <span class="text-sm hidden"> </span>
                     </p:outputPanel>
                     <p:outputPanel styleClass="field col-12 md:col-6 lg:col-4 xl:col-3">
                        <p:outputLabel for="@next" value="Marca" styleClass="block"/>
                        <p:inputText styleClass="block w-full" required="true"
                                     placeholder="Ej. Nissan" disabled="#{vehiculoView.readOnlyEditForm}"
                                     value="#{vehiculoView.vehiculoSelected.marca}"/>
                        <span class="text-sm hidden"> </span>
                     </p:outputPanel>
                     <p:outputPanel styleClass="field col-12 md:col-6 lg:col-4 xl:col-3">
                        <p:outputLabel for="@next" value="Modelo" styleClass="block"/>
                        <p:inputText styleClass="block w-full" required="true"
                                     placeholder="Ej. Altima" disabled="#{vehiculoView.readOnlyEditForm}"
                                     value="#{vehiculoView.vehiculoSelected.modelo}"/>
                        <span class="text-sm hidden"> </span>
                     </p:outputPanel>
                     <p:outputPanel styleClass="field col-12 md:col-6 lg:col-4 xl:col-3">
                        <p:outputLabel for="@next" value="Año" styleClass="block"/>
                        <p:inputNumber styleClass="block w-full" required="true"
                                       placeholder="Ej. 2022" disabled="#{vehiculoView.readOnlyEditForm}"
                                       value="#{vehiculoView.vehiculoSelected.anio}"/>
                        <span class="text-sm hidden"> </span>
                     </p:outputPanel>
                     <p:outputPanel styleClass="field col-12 md:col-6 lg:col-4 xl:col-3">
                        <p:outputLabel for="@next" value="No. Motor" styleClass="block"/>
                        <p:inputText styleClass="block w-full" required="true" disabled="#{vehiculoView.readOnlyEditForm}"
                                     value="#{vehiculoView.vehiculoSelected.noMotor}"/>
                        <span class="text-sm hidden"> </span>
                     </p:outputPanel>
                     <p:outputPanel styleClass="field col-12 md:col-6 lg:col-4 xl:col-3">
                        <p:outputLabel for="@next" value="Color" styleClass="block"/>
                        <p:inputText styleClass="block w-full" required="true"
                                     placeholder="Ej. Rojo" disabled="#{vehiculoView.readOnlyEditForm}"
                                     value="#{vehiculoView.vehiculoSelected.color}"/>
                        <span class="text-sm hidden"> </span>
                     </p:outputPanel>
                     <p:outputPanel styleClass="field col-12 md:col-6 lg:col-4 xl:col-3">
                        <p:outputLabel for="@next" value="Condición" styleClass="block"/>
                        <p:selectOneMenu value="#{vehiculoView.vehiculoSelected.condicionVehiculo.idCondicionVehiculo}"
                                         styleClass="w-full mw-auto" required="true" disabled="#{vehiculoView.readOnlyEditForm}">
                           <f:selectItem itemLabel="Seleccione uno..." itemValue="#{null}"/>
                           <f:selectItems value="#{vehiculoView.condicionVehiculoList}" var="condicionVehiculo"
                                          itemValue="#{condicionVehiculo.idCondicionVehiculo}" itemLabel="#{condicionVehiculo.nombre}"/>
                        </p:selectOneMenu>
                        <span class="text-sm hidden"> </span>
                     </p:outputPanel>
                     <p:outputPanel styleClass="field col-12 md:col-6 lg:col-4 xl:col-3">
                        <p:outputLabel for="@next" value="No. Factura" styleClass="block"/>
                        <p:inputText styleClass="block w-full" required="true" disabled="#{vehiculoView.readOnlyEditForm}"
                                     value="#{vehiculoView.vehiculoSelected.noFactura}"/>
                        <span class="text-sm hidden"> </span>
                     </p:outputPanel>
                     <p:outputPanel styleClass="field col-12 md:col-6 lg:col-4 xl:col-3">
                        <p:outputLabel for="@next" value="Valor factura" styleClass="block"/>
                        <p:inputNumber styleClass="block w-full" required="true" disabled="#{vehiculoView.readOnlyEditForm}"
                                       value="#{vehiculoView.vehiculoSelected.montoFactura}"/>
                        <span class="text-sm hidden"> </span>
                     </p:outputPanel>
                     <p:outputPanel styleClass="field col-12 md:col-6 lg:col-4 xl:col-3">
                        <p:outputLabel for="@next" value="Renta mensual" styleClass="block"/>
                        <p:inputNumber styleClass="block w-full" required="true" disabled="#{vehiculoView.readOnlyEditForm}"
                                       value="#{vehiculoView.vehiculoSelected.rentaMensual}"/>
                        <span class="text-sm hidden"> </span>
                     </p:outputPanel>
                     <p:outputPanel styleClass="field col-12">
                        <p:outputLabel for="@next" value="Descripción" styleClass="block"/>
                        <p:inputTextarea styleClass="block w-full" rows="2" autoResize="true"
                                         disabled="#{vehiculoView.readOnlyEditForm}"
                                         value="#{vehiculoView.vehiculoSelected.descripcionVehiculo}"/>
                        <span class="text-sm hidden"> </span>
                     </p:outputPanel>
                     <p:outputPanel styleClass="field col-12 md:col-6 lg:col-4 xl:col-3">
                        <p:outputLabel for="@next" value="Licitación" styleClass="block"/>
                        <p:selectOneMenu value="#{vehiculoView.vehiculoSelected.licitacion.idLicitacion}"
                                         disabled="#{vehiculoView.readOnlyEditForm}"
                                         styleClass="w-full mw-auto">
                           <f:selectItem itemLabel="Seleccione una..." itemValue="#{null}"/>
                           <f:selectItems value="#{vehiculoView.licitacionFormList}" var="licitacion"
                                          itemValue="#{licitacion.idLicitacion}" itemLabel="#{licitacion.numeroLicitacion}"/>
                           <p:ajax event="change" listener="#{vehiculoView.onChangeLicitacionForm()}" update="tab_view_detalles:form_editar_vehiculo"/>
                        </p:selectOneMenu>
                        <span class="text-sm hidden"> </span>
                     </p:outputPanel>
                     <p:outputPanel styleClass="field col-12 md:col-6 lg:col-4 xl:col-3">
                        <p:outputLabel for="@next" value="Anexo" styleClass="block"/>
                        <p:selectOneMenu value="#{vehiculoView.vehiculoSelected.anexo.idAnexo}"
                                         disabled="#{vehiculoView.readOnlyEditForm}"
                                         styleClass="w-full mw-auto">
                           <f:selectItem itemLabel="Seleccione una..." itemValue="#{null}"/>
                           <f:selectItems value="#{vehiculoView.anexoFormList}" var="anexo"
                                          itemValue="#{anexo.idAnexo}" itemLabel="#{anexo.nombre}"/>
                        </p:selectOneMenu>
                        <span class="text-sm hidden"> </span>
                     </p:outputPanel>
                     <p:outputPanel styleClass="field col-12 md:col-6 lg:col-4 xl:col-3">
                        <p:outputLabel for="@next" value="Dependencia asignada" styleClass="block"/>
                        <p:selectOneMenu value="#{vehiculoView.vehiculoSelected.dependenciaAsignada.idDependencia}"
                                         disabled="#{vehiculoView.readOnlyEditForm}"
                                         styleClass="w-full mw-auto">
                           <f:selectItem itemLabel="Seleccione una..." itemValue="#{null}"/>
                           <f:selectItems value="#{vehiculoView.dependenciaList}" var="dependencia"
                                          itemValue="#{dependencia.idDependencia}" itemLabel="#{dependencia.abreviatura} - #{dependencia.nombre}"/>
                        </p:selectOneMenu>
                        <span class="text-sm hidden"> </span>
                     </p:outputPanel>
                     <p:outputPanel styleClass="field col-12 md:col-6 lg:col-4 xl:col-3">
                        <p:outputLabel for="@next" value="Reguardante" styleClass="block"/>
                        <p:inputText styleClass="block w-full" disabled="#{vehiculoView.readOnlyEditForm}"
                                     value="#{vehiculoView.vehiculoSelected.resguardante}"/>
                        <span class="text-sm hidden"> </span>
                     </p:outputPanel>
                     <p:outputPanel styleClass="field col-12 md:col-6 lg:col-4 xl:col-3">
                        <p:outputLabel for="@next" value="Área reguardante" styleClass="block"/>
                        <p:inputText styleClass="block w-full" disabled="#{vehiculoView.readOnlyEditForm}"
                                     value="#{vehiculoView.vehiculoSelected.areaResguardante}"/>
                        <span class="text-sm hidden"> </span>
                     </p:outputPanel>
                     <p:outputPanel styleClass="field col-12 md:col-6 lg:col-4 xl:col-3">
                        <p:outputLabel for="@next" value="Proveedor" styleClass="block"/>
                        <p:inputText styleClass="block w-full" disabled="#{vehiculoView.readOnlyEditForm}"
                                     value="#{vehiculoView.vehiculoSelected.proveedor}"/>
                        <span class="text-sm hidden"> </span>
                     </p:outputPanel>
                  </p:outputPanel>
                  <p:outputPanel styleClass="w-full" rendered="#{not vehiculoView.readOnlyEditForm}">
                     <p:outputPanel styleClass="flex justify-content-end">
                        <p:commandButton value="Cancelar" ajax="true" process="@this"
                                         action="#{vehiculoView.cancelarEdicion()}"
                                         styleClass="ui-button-outlined mr-4"/>
                        <p:commandButton value="Guardar" ajax="true" process="@form"
                                         action="#{vehiculoView.guardarEdicion()}"
                                         update="growl @form form_datatable"
                                         validateClient="true"/>
                     </p:outputPanel>
                  </p:outputPanel>
               </p:panel>
            </h:form>
            <p:outputPanel styleClass="grid">
               <p:outputPanel styleClass="col-12 md:col-6 mb-5">
                  Galeria
               </p:outputPanel>
               <p:outputPanel styleClass="col-12 md:col-6 mb-5">
                  Poliza
               </p:outputPanel>
            </p:outputPanel>
         </p:tab>
         <p:tab id="tab_bitacora" title="Bitácora">

         </p:tab>
      </p:tabView>

   </p:outputPanel>

</ui:composition>
